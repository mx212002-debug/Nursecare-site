<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NURSECARE ‚Äî Gest√£o em Sa√∫de</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .container {
            display: none;
            flex-direction: column;
            height: 100vh;
            background: white;
        }

        .container.active {
            display: flex;
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, #0B2340 0%, #1a3a52 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header-left h1 {
            font-size: 18px;
            font-weight: bold;
        }

        .header-left p {
            font-size: 12px;
            opacity: 0.9;
        }

        .header-right button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        /* MAIN CONTENT */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .module {
            display: none;
        }

        .module.active {
            display: block;
        }

        /* BOTTOM NAVIGATION - SCROLL√ÅVEL */
        .bottom-nav {
            background: white;
            border-top: 2px solid #ddd;
            display: flex;
            overflow-x: auto;
            overflow-y: hidden;
            gap: 5px;
            padding: 10px 5px;
            position: sticky;
            bottom: 0;
            scroll-behavior: smooth;
        }

        .bottom-nav::-webkit-scrollbar {
            height: 4px;
        }

        .bottom-nav::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .bottom-nav::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 2px;
        }

        .nav-btn {
            flex: 0 0 auto;
            min-width: 100px;
            padding: 10px 12px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .nav-btn:hover {
            background: #f0f0f0;
        }

        .nav-btn.active {
            border-color: #0B2340;
            background: #0B2340;
            color: white;
        }

        /* LOGIN */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #0B2340 0%, #1a3a52 100%);
        }

        .login-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 400px;
        }

        .login-box h2 {
            text-align: center;
            margin-bottom: 10px;
            color: #0B2340;
        }

        .login-box p {
            text-align: center;
            margin-bottom: 30px;
            color: #666;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #0B2340;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #0B2340;
        }

        .login-box button {
            width: 100%;
            padding: 12px;
            background: #0B2340;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .login-box button:hover {
            background: #1a3a52;
        }

        /* CARDS */
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .card h3 {
            color: #0B2340;
            margin-bottom: 10px;
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-content .close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: #666;
        }

        /* CHAT */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 8px;
        }

        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            background: white;
            border-left: 4px solid #0B2340;
        }

        .message.sent {
            background: #e3f2fd;
            border-left-color: #4CAF50;
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
        }

        .chat-input button {
            padding: 10px 20px;
            background: #0B2340;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        /* BUTTONS */
        button {
            padding: 10px 20px;
            background: #0B2340;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        button:hover {
            background: #1a3a52;
        }

        .btn-secondary {
            background: #666;
        }

        .btn-secondary:hover {
            background: #555;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }

            .card {
                padding: 15px;
            }

            .modal-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="loginScreen" class="login-container active">
    <div class="login-box">
        <h2>üè• NURSECARE</h2>
        <p>Gest√£o em Sa√∫de</p>
        <form onsubmit="handleLogin(event)">
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="loginEmail" placeholder="seu@email.com" value="matheus@nursecare.com" required>
            </div>
            <div class="form-group">
                <label>Senha</label>
                <input type="password" id="loginPassword" placeholder="Sua senha" value="123456" required>
            </div>
            <div class="form-group">
                <label>Perfil</label>
                <select id="loginProfile" required>
                    <option value="gestor">üë®‚Äç‚öïÔ∏è Enfermeiro (Gestor)</option>
                    <option value="colaborador">üë®‚Äçüíº Colaborador (T√©cnico)</option>
                </select>
            </div>
            <button type="submit">Entrar</button>
        </form>
    </div>
</div>

<!-- GESTOR (ENFERMEIRO) SCREEN -->
<div id="gestorScreen" class="container">
    <div class="header">
        <div class="header-left">
            <h1>üëã Ol√°, Enfermeiro Matheus</h1>
            <p id="gestorDate">quarta-feira, 22 de outubro de 2025</p>
        </div>
        <button onclick="logout()">Sair</button>
    </div>

    <div class="content">
        <!-- DASHBOARD -->
        <div id="gestorDashboard" class="module active">
            <h2>üìä Dashboard</h2>
            <div class="card">
                <h3>üìã Resumo do Dia</h3>
                <p>3 evolu√ß√µes registradas ‚Ä¢ 1 paciente em observa√ß√£o ‚Ä¢ 2 alertas cr√≠ticos</p>
            </div>
            <div class="card">
                <h3>üë• Pacientes Ativos</h3>
                <p>0</p>
                <button onclick="showModal('newPatientModal')">+ Novo Paciente</button>
            </div>
            <div class="card">
                <h3>‚ù§Ô∏è Alertas Cr√≠ticos</h3>
                <p>0</p>
            </div>
            <div class="card">
                <h3>‚úÖ Tarefas Pendentes</h3>
                <p>0</p>
                <button onclick="showModal('newTaskModal')">+ Nova Tarefa</button>
            </div>
        </div>

        <!-- PACIENTES -->
        <div id="gestorPacientes" class="module">
            <h2>üë• Pacientes</h2>
            <button onclick="showModal('newPatientModal')">+ Novo Paciente</button>
            <div id="pacientesList"></div>
        </div>

        <!-- AVALIA√á√ÉO CL√çNICA (SOAPIE) -->
        <div id="gestorAvaliacao" class="module">
            <h2>üìã Avalia√ß√£o Cl√≠nica (SOAPIE)</h2>
            <button onclick="showModal('newAvaliacaoModal')">+ Nova Avalia√ß√£o</button>
            <div id="avaliacaoList"></div>
        </div>

        <!-- FARM√ÅCIA -->
        <div id="gestorFarmacia" class="module">
            <h2>üíä Farm√°cia</h2>
            <button onclick="showModal('newMedicamentoModal')">+ Novo Medicamento</button>
            <div id="farmaciaList"></div>
        </div>

        <!-- ALMOXARIFADO -->
        <div id="gestorAlmoxarifado" class="module">
            <h2>üì¶ Almoxarifado</h2>
            <button onclick="showModal('newMaterialModal')">+ Novo Material</button>
            <div id="almoxarifadoList"></div>
        </div>

        <!-- COLABORADORES -->
        <div id="gestorColaboradores" class="module">
            <h2>üë• Colaboradores</h2>
            <button onclick="showModal('newColaboradorModal')">+ Novo Colaborador</button>
            <div id="colaboradoresList"></div>
        </div>

        <!-- CHAT GESTOR -->
        <div id="gestorChat" class="module">
            <h2>üí¨ Chat</h2>
            <div class="card">
                <h3>Canais de Comunica√ß√£o</h3>
                <button onclick="openChat('enfermagem')">üè• Chat Enfermagem</button>
                <button onclick="openChat('farmacia')">üíä Chat Farm√°cia</button>
                <button onclick="openChat('coordenacao')">üìã Chat Coordena√ß√£o</button>
                <button onclick="openChat('emergencia')">üö® Chat Emerg√™ncia</button>
            </div>
            <div id="chatBox" style="display:none;">
                <div class="chat-messages" id="chatMessages"></div>
                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="Digite sua mensagem...">
                    <button onclick="sendMessage()">Enviar</button>
                </div>
            </div>
        </div>

        <!-- RELAT√ìRIOS -->
        <div id="gestorRelatorios" class="module">
            <h2>üìä Relat√≥rios</h2>
            <button onclick="generateReport('diario')">üìÖ Relat√≥rio Di√°rio</button>
            <button onclick="generateReport('semanal')">üìÜ Relat√≥rio Semanal</button>
            <button onclick="generateReport('mensal')">üìä Relat√≥rio Mensal</button>
        </div>

        <!-- AUDITORIA -->
        <div id="gestorAuditoria" class="module">
            <h2>üîç Auditoria</h2>
            <div id="auditoriaList"></div>
        </div>

        <!-- POP -->
        <div id="gestorPOP" class="module">
            <h2>üö® POP de Emerg√™ncias</h2>
            <div class="card">
                <h3>Cola de SSVV Normais</h3>
                <table style="width:100%; border-collapse: collapse;">
                    <tr><td><strong>PA</strong></td><td>120/80 mmHg</td></tr>
                    <tr><td><strong>FC</strong></td><td>60-100 bpm</td></tr>
                    <tr><td><strong>FR</strong></td><td>12-20 irpm</td></tr>
                    <tr><td><strong>Temperatura</strong></td><td>36.5-37.5¬∞C</td></tr>
                    <tr><td><strong>SpO‚ÇÇ</strong></td><td>95-100%</td></tr>
                </table>
            </div>
        </div>
    </div>

    <!-- BOTTOM NAVIGATION - SCROLL√ÅVEL -->
    <div class="bottom-nav">
        <button class="nav-btn active" onclick="switchModule('gestorDashboard', this)">üìä Dashboard</button>
        <button class="nav-btn" onclick="switchModule('gestorPacientes', this)">üë• Pacientes</button>
        <button class="nav-btn" onclick="switchModule('gestorAvaliacao', this)">üìã Avalia√ß√£o</button>
        <button class="nav-btn" onclick="switchModule('gestorFarmacia', this)">üíä Farm√°cia</button>
        <button class="nav-btn" onclick="switchModule('gestorAlmoxarifado', this)">üì¶ Almoxarifado</button>
        <button class="nav-btn" onclick="switchModule('gestorColaboradores', this)">üë• Colabs</button>
        <button class="nav-btn" onclick="switchModule('gestorChat', this)">üí¨ Chat</button>
        <button class="nav-btn" onclick="switchModule('gestorRelatorios', this)">üìä Relat√≥rios</button>
        <button class="nav-btn" onclick="switchModule('gestorAuditoria', this)">üîç Auditoria</button>
        <button class="nav-btn" onclick="switchModule('gestorPOP', this)">üö® POP</button>
    </div>
</div>

<!-- COLABORADOR (T√âCNICO) SCREEN -->
<div id="colaboradorScreen" class="container">
    <div class="header">
        <div class="header-left">
            <h1>üëã Ol√°, T√©cnico Jo√£o</h1>
            <p id="colaboradorDate">quarta-feira, 22 de outubro de 2025</p>
        </div>
        <button onclick="logout()">Sair</button>
    </div>

    <div class="content">
        <!-- PACIENTES -->
        <div id="colaboradorPacientes" class="module active">
            <h2>üë• Meus Pacientes</h2>
            <div id="meusPacientesList"></div>
        </div>

        <!-- SINAIS VITAIS -->
        <div id="colaboradorSinais" class="module">
            <h2>‚ù§Ô∏è Registrar Sinais Vitais</h2>
            <button onclick="showModal('registrarSinaisModal')">+ Registrar Sinais</button>
            <div id="sinaisList"></div>
        </div>

        <!-- AVALIA√á√ÉO T√âCNICA -->
        <div id="colaboradorAvaliacao" class="module">
            <h2>üìù Avalia√ß√£o T√©cnica</h2>
            <button onclick="showModal('avaliacaoTecnicaModal')">+ Nova Avalia√ß√£o</button>
            <div id="avaliacaoTecnicaList"></div>
        </div>

        <!-- SOLICITA√á√ïES -->
        <div id="colaboradorSolicitacoes" class="module">
            <h2>üìã Solicita√ß√µes</h2>
            <button onclick="showModal('solicitacaoModal')">+ Nova Solicita√ß√£o</button>
            <div id="solicitacoesList"></div>
        </div>

        <!-- TAREFAS -->
        <div id="colaboradorTarefas" class="module">
            <h2>‚úÖ Minhas Tarefas</h2>
            <div id="minhasTarefasList"></div>
        </div>

        <!-- CHAT COLABORADOR -->
        <div id="colaboradorChat" class="module">
            <h2>üí¨ Chat</h2>
            <div class="card">
                <h3>Canais de Comunica√ß√£o</h3>
                <button onclick="openChat('enfermagem')">üè• Chat Enfermagem</button>
                <button onclick="openChat('farmacia')">üíä Chat Farm√°cia</button>
                <button onclick="openChat('coordenacao')">üìã Chat Coordena√ß√£o</button>
                <button onclick="openChat('emergencia')">üö® Chat Emerg√™ncia</button>
            </div>
            <div id="chatBoxColaborador" style="display:none;">
                <div class="chat-messages" id="chatMessagesColaborador"></div>
                <div class="chat-input">
                    <input type="text" id="chatInputColaborador" placeholder="Digite sua mensagem...">
                    <button onclick="sendMessageColaborador()">Enviar</button>
                </div>
            </div>
        </div>

        <!-- POP -->
        <div id="colaboradorPOP" class="module">
            <h2>üö® POP de Emerg√™ncias</h2>
            <div class="card">
                <h3>Cola de SSVV Normais</h3>
                <table style="width:100%; border-collapse: collapse;">
                    <tr><td><strong>PA</strong></td><td>120/80 mmHg</td></tr>
                    <tr><td><strong>FC</strong></td><td>60-100 bpm</td></tr>
                    <tr><td><strong>FR</strong></td><td>12-20 irpm</td></tr>
                    <tr><td><strong>Temperatura</strong></td><td>36.5-37.5¬∞C</td></tr>
                    <tr><td><strong>SpO‚ÇÇ</strong></td><td>95-100%</td></tr>
                </table>
            </div>
            <div class="card">
                <h3>Primeiros Socorros</h3>
                <ul>
                    <li><strong>Queda:</strong> Imobilizar, chamar m√©dico</li>
                    <li><strong>Convuls√£o:</strong> Proteger cabe√ßa, posi√ß√£o lateral</li>
                    <li><strong>Desmaio:</strong> Deitar, elevar pernas</li>
                </ul>
            </div>
            <div class="card">
                <h3>üìû N√∫meros de Emerg√™ncia</h3>
                <p><strong>SAMU:</strong> 192</p>
                <p><strong>Bombeiros:</strong> 193</p>
                <p><strong>Enfermeiro:</strong> (11) 98520-9793</p>
            </div>
        </div>
    </div>

    <!-- BOTTOM NAVIGATION -->
    <div class="bottom-nav">
        <button class="nav-btn active" onclick="switchModuleColaborador('colaboradorPacientes', this)">üë• Pacientes</button>
        <button class="nav-btn" onclick="switchModuleColaborador('colaboradorSinais', this)">‚ù§Ô∏è Sinais</button>
        <button class="nav-btn" onclick="switchModuleColaborador('colaboradorAvaliacao', this)">üìù Avalia√ß√£o</button>
        <button class="nav-btn" onclick="switchModuleColaborador('colaboradorSolicitacoes', this)">üìã Solicita√ß√µes</button>
        <button class="nav-btn" onclick="switchModuleColaborador('colaboradorTarefas', this)">‚úÖ Tarefas</button>
        <button class="nav-btn" onclick="switchModuleColaborador('colaboradorChat', this)">üí¨ Chat</button>
        <button class="nav-btn" onclick="switchModuleColaborador('colaboradorPOP', this)">üö® POP</button>
    </div>
</div>

<!-- MODALS -->
<!-- New Patient Modal -->
<div id="newPatientModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('newPatientModal')">&times;</span>
        <h2>‚ûï Novo Paciente</h2>
        <form onsubmit="addPatient(event)">
            <div class="form-group">
                <label>Nome *</label>
                <input type="text" required>
            </div>
            <div class="form-group">
                <label>Leito *</label>
                <input type="text" required>
            </div>
            <div class="form-group">
                <label>Diagn√≥stico</label>
                <input type="text">
            </div>
            <button type="submit">Adicionar Paciente</button>
        </form>
    </div>
</div>

<!-- New Avaliacao Modal -->
<div id="newAvaliacaoModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('newAvaliacaoModal')">&times;</span>
        <h2>üìã Avalia√ß√£o Cl√≠nica (SOAPIE)</h2>
        <form onsubmit="addAvaliacao(event)">
            <div class="form-group">
                <label>Paciente *</label>
                <select required><option>Selecione um paciente</option></select>
            </div>
            <div class="form-group">
                <label>Data e Hora *</label>
                <input type="datetime-local" required>
            </div>
            <div class="form-group">
                <label>S - Subjetivo: Queixas/Relatos *</label>
                <textarea required placeholder="Queixas do paciente..."></textarea>
            </div>
            <div class="form-group">
                <label>O - Objetivo: Sinais Vitais *</label>
                <input type="text" placeholder="PA (ex: 120/80)" required>
                <input type="text" placeholder="FC (bpm)" required>
                <input type="text" placeholder="FR (irpm)" required>
                <input type="text" placeholder="Temp (¬∞C)" required>
                <input type="text" placeholder="SpO‚ÇÇ (%)" required>
                <textarea placeholder="Estado geral, pele, dispositivos..."></textarea>
            </div>
            <div class="form-group">
                <label>A - An√°lise: Interpreta√ß√£o Cl√≠nica *</label>
                <textarea required placeholder="Interpreta√ß√£o do quadro..."></textarea>
            </div>
            <div class="form-group">
                <label>P - Plano: Condutas e Interven√ß√µes *</label>
                <textarea required placeholder="Plano de cuidados..."></textarea>
            </div>
            <div class="form-group">
                <label>E - Evolu√ß√£o: Resposta aos Cuidados *</label>
                <textarea required placeholder="Evolu√ß√£o do paciente..."></textarea>
            </div>
            <button type="submit">Salvar Avalia√ß√£o</button>
        </form>
    </div>
</div>

<!-- Registrar Sinais Modal -->
<div id="registrarSinaisModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('registrarSinaisModal')">&times;</span>
        <h2>‚ù§Ô∏è Registrar Sinais Vitais</h2>
        <form onsubmit="registrarSinais(event)">
            <div class="form-group">
                <label>Paciente *</label>
                <select required><option>Selecione um paciente</option></select>
            </div>
            <div class="form-group">
                <label>PA (mmHg) *</label>
                <input type="text" placeholder="Ex: 120/80" required>
            </div>
            <div class="form-group">
                <label>FC (bpm) *</label>
                <input type="text" placeholder="Ex: 72" required>
            </div>
            <div class="form-group">
                <label>FR (irpm) *</label>
                <input type="text" placeholder="Ex: 16" required>
            </div>
            <div class="form-group">
                <label>Temperatura (¬∞C) *</label>
                <input type="text" placeholder="Ex: 36.5" required>
            </div>
            <div class="form-group">
                <label>SpO‚ÇÇ (%) *</label>
                <input type="text" placeholder="Ex: 98" required>
            </div>
            <button type="submit">Registrar</button>
        </form>
    </div>
</div>

<script>
    let currentUser = null;
    let currentChat = null;
    let chats = {
        enfermagem: [],
        farmacia: [],
        coordenacao: [],
        emergencia: []
    };

    function handleLogin(event) {
        event.preventDefault();
        const email = document.getElementById('loginEmail').value;
        const profile = document.getElementById('loginProfile').value;
        
        currentUser = { email, profile };
        
        document.getElementById('loginScreen').classList.remove('active');
        
        if (profile === 'gestor') {
            document.getElementById('gestorScreen').classList.add('active');
        } else {
            document.getElementById('colaboradorScreen').classList.add('active');
        }
    }

    function logout() {
        currentUser = null;
        document.getElementById('gestorScreen').classList.remove('active');
        document.getElementById('colaboradorScreen').classList.remove('active');
        document.getElementById('loginScreen').classList.add('active');
    }

    function switchModule(moduleId, btn) {
        const modules = document.querySelectorAll('#gestorScreen .module');
        modules.forEach(m => m.classList.remove('active'));
        document.getElementById(moduleId).classList.add('active');
        
        document.querySelectorAll('#gestorScreen .nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    function switchModuleColaborador(moduleId, btn) {
        const modules = document.querySelectorAll('#colaboradorScreen .module');
        modules.forEach(m => m.classList.remove('active'));
        document.getElementById(moduleId).classList.add('active');
        
        document.querySelectorAll('#colaboradorScreen .nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    function showModal(modalId) {
        document.getElementById(modalId).classList.add('active');
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
    }

    function openChat(channel) {
        currentChat = channel;
        const chatBox = currentUser.profile === 'gestor' ? 
            document.getElementById('chatBox') : 
            document.getElementById('chatBoxColaborador');
        chatBox.style.display = 'flex';
        chatBox.style.flexDirection = 'column';
        
        const messagesDiv = currentUser.profile === 'gestor' ? 
            document.getElementById('chatMessages') : 
            document.getElementById('chatMessagesColaborador');
        messagesDiv.innerHTML = '';
        
        if (chats[channel].length === 0) {
            messagesDiv.innerHTML = '<p style="text-align:center; color:#999;">Nenhuma mensagem neste canal</p>';
        } else {
            chats[channel].forEach(msg => {
                const msgDiv = document.createElement('div');
                msgDiv.className = 'message ' + (msg.sender === 'voc√™' ? 'sent' : '');
                msgDiv.innerHTML = `<strong>${msg.sender}:</strong> ${msg.text}`;
                messagesDiv.appendChild(msgDiv);
            });
        }
    }

    function sendMessage() {
        const input = document.getElementById('chatInput');
        const text = input.value.trim();
        if (text && currentChat) {
            chats[currentChat].push({ sender: 'voc√™', text });
            input.value = '';
            openChat(currentChat);
        }
    }

    function sendMessageColaborador() {
        const input = document.getElementById('chatInputColaborador');
        const text = input.value.trim();
        if (text && currentChat) {
            chats[currentChat].push({ sender: 'voc√™', text });
            input.value = '';
            openChat(currentChat);
        }
    }

    function addPatient(event) {
        event.preventDefault();
        alert('Paciente adicionado com sucesso!');
        closeModal('newPatientModal');
    }

    function addAvaliacao(event) {
        event.preventDefault();
        alert('Avalia√ß√£o registrada com sucesso!');
        closeModal('newAvaliacaoModal');
    }

    function registrarSinais(event) {
        event.preventDefault();
        alert('Sinais vitais registrados com sucesso!');
        closeModal('registrarSinaisModal');
    }

    function generateReport(type) {
        alert(`Relat√≥rio ${type} gerado com sucesso!`);
    }

    // Fechar modal ao clicar fora
    window.onclick = function(event) {
        if (event.target.classList.contains('modal')) {
            event.target.classList.remove('active');
        }
    }
</script>

</body>
</html>
